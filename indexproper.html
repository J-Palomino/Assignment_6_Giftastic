<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Reaction GIFS</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script> -->
    </head>
    <body>
            <!-- Background Image is here-->
            <style>
            .bg { 
                background-image: url("Glasecaseemotions.jpg");
                
                height: 100%; 
              
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
              }
            </style>
            <div class="container">
                    <h1>Reaction Search</h1>
                
                    <!-- Buttons will Go Here -->
                    <div id="buttons-view"></div>
                
                    <form id="reaction-form">
                      <label for="reaction-input">Search Reaction Gifs:</label>
                      <input type="text" id="reaction-input">
                      <br>
                
                      <!-- Button for new reaction to be added -->
                      <input id="searchform" type="submit" value="Search Reaction Gifs:!">
                    </form>
            </div>     
            <div id="buttons">
                    <button class="gif-button" data-react="happy">
                      Happy
                    </button>

                    <button class="gif-button" data-react="yeet">
                      Yeet
                    </button>
                    
                    <button class="gif-button" data-react="surprised">
                      Surprised!
                    </button>
                
                    <button class="gif-button" data-react="sad">
                      Sad 
                    </button>
                
                    <button class="gif-button" data-react="Grateful">
                      Grateful
                    </button>

                    <button class="gif-button" data-react="LOL">
                        LOL
                    </button>
                
            </div>
                
            <div id="gifs-appear-here">
            </div>

            <script type="text/javascript">
              $(document).on("click", ".gif-button" ,function(event) {
                // event.preventDefault();
                var react = $(this).attr("data-react");
                console.log("data react", react);
                var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
                  react + "&api_key=dc6zaTOxFJmzC&limit=10";
          
                $.ajax({
                  url: queryURL,
                  method: "GET"
                })
                  .then(function(response) {
                    var results = response.data;
                    $("#gifs-appear-here").html("");
                    for (var i = 0; i < results.length; i++) {
                      var gifDiv = $("<div>");
                        gifDiv.addClass("gif");
                        
                      var rating = results[i].rating;
          
                      var p = $("<p>").text("Rating: " + rating);
          
                      var reactImage = $("<img>");
                      reactImage.attr("src", results[i].images.fixed_height.url);
          
                      gifDiv.prepend(p);
                      gifDiv.prepend(reactImage);
          
                      $("#gifs-appear-here").prepend(gifDiv);
                    }
                  });
              });
            $("#searchform").on("click", function(event){
              event.preventDefault();
              console.log($(this));
              var value = $("#reaction-input").val();
              console.log(value);
            });
        </script>

    </body>
</html>